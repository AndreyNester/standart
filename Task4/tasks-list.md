## Список крупных задач по системам (для планирования)

---

### 1. Единый источник ставок (Rates Service)

**Цель:** обеспечить единый, масштабируемый и контролируемый источник актуальных ставок для всех каналов.

- Проработать доменную модель ставок и правил  
  (депозит, срок, валюта, сумма, базовая ставка, спецусловия, версия публикации).
- Реализовать хранение ставок и версий публикаций в БД (MS SQL / Oracle).
- Реализовать **Rates API (read-only для потребителей)**:
  - получение списка депозитов и ставок;
  - получение версии и даты последнего обновления;
  - выдача только разрешённых полей для внешних потребителей.
- Реализовать механизм **публикации новой версии ставок** (через админ-интерфейс или сервисную операцию).
- Реализовать **кэширование чтения ставок** (in-memory / Redis) для снижения нагрузки на БД.
- Настроить **RBAC** и сервисные учётные записи для внутренних систем.
- Реализовать логирование обращений и ошибок.

---

### 2. Система внутреннего кол-центра

**Цель:** дать операторам быстрый и надёжный доступ к актуальным ставкам во время консультации клиента.

- Спроектировать пользовательский экран «Ставки по депозитам»:
  - фильтрация по продукту, сроку, валюте, сумме;
  - отображение версии ставок и даты обновления.
- Реализовать интеграцию с Rates API по защищённому каналу (TLS).
- Реализовать обработку ошибок и деградацию:
  - отображение последней успешной версии ставок;
  - предупреждение оператора при недоступности сервиса ставок.
- Ограничить доступ к функционалу по ролям операторов.
- Обновить пользовательские инструкции и сценарии консультаций.

---

### 3. Контур выгрузки ставок (Rates Exporter)

**Цель:** обеспечить надёжную и контролируемую передачу ставок партнёрскому кол-центру в файловом виде.

- Определить и зафиксировать **контракт выгрузки ставок**:
  - формат файла (CSV или JSON);
  - обязательные и опциональные поля;
  - кодировка, разделители, справочники.
- Реализовать формирование **метаданных выгрузки**:
  - версия ставок;
  - дата и время формирования;
  - контрольная сумма (checksum).
- Реализовать механизм генерации файлов:
  - по расписанию;
  - и/или по событию публикации новой версии ставок.
- Реализовать хранение архива выгрузок (N последних версий).
- Реализовать журнал успешных и неуспешных выгрузок.
- Настроить мониторинг выполнения выгрузок и алерты при ошибках.

---

### 4. Secure File Portal (портал файлов для партнёра)

**Цель:** предоставить партнёру безопасный и контролируемый способ получения ставок.

- Развернуть защищённый файловый портал (HTTPS).
- Настроить аутентификацию и авторизацию партнёрского кол-центра
  (учётные записи, сертификаты, VPN — по требованиям безопасности банка).
- Реализовать структуру каталогов:
  - «актуальная версия»;
  - архив предыдущих версий.
- Реализовать **аудит скачиваний**:
  - кто, когда и какую версию скачал;
  - результат операции (успех/ошибка).
- Реализовать механизм уведомлений/индикации:
  - опубликована новая версия ставок;
  - длительное отсутствие скачиваний партнёром.
- Обеспечить резервное копирование и хранение файлов.

---

### 5. Партнёрский кол-центр (со стороны банка)

**Цель:** обеспечить управляемое и безопасное взаимодействие с подрядчиком.

- Согласовать формат и периодичность получения файлов ставок.
- Согласовать SLA по обновлению ставок и реакции на инциденты.
- Подготовить инструкции по импорту ставок в систему партнёра.
- Определить контактных лиц и регламент взаимодействия.
- Провести тестовую интеграцию и приёмочные испытания.

---

### 6. Безопасность и эксплуатация (сквозные задачи)

**Цель:** обеспечить надёжную и сопровождаемую эксплуатацию решения.

- Настроить TLS и управление секретами (ключи, пароли, сертификаты).
- Настроить централизованное логирование и мониторинг (доступность, ошибки, задержки).
- Настроить алерты для ключевых метрик (последняя успешная выгрузка, ошибки API).
- Подготовить эксплуатационную документацию и runbook.
- Настроить резервное копирование БД ставок и файлов портала.
- Подготовить план восстановления после сбоев (DR).

---
