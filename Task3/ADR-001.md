### **Название задачи**

Концептуальная архитектура MVP онлайн-открытия депозитов  
(сайт и интернет-банк) для банка «Стандарт»

### **Автор**

Команда цифровой трансформации розничного бизнеса

### **Дата**

27.12.2025

---

## **Функциональные требования**

|  №  | Действующие лица или системы             | Use Case                                   | Описание                                                                                                                                                                                                      |
| :-: | ---------------------------------------- | ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|  1  | Клиент → Сайт                            | Просмотр депозитов и ставок                | Клиент открывает страницу депозитов на сайте. Сайт запрашивает список доступных депозитов и актуальных ставок из единого источника ставок и отображает их клиенту.                                            |
|  2  | Клиент → Сайт → Система кол-центра       | Подача заявки на депозит с сайта           | Клиент выбирает депозит, вводит ФИО и телефон. Сайт валидирует данные и передаёт заявку в систему кол-центра для дальнейшей обработки менеджером.                                                             |
|  3  | Менеджер кол-центра → Система кол-центра | Обработка заявки с сайта                   | Менеджер видит заявку, связывается с клиентом, консультирует и фиксирует результат (интерес, отказ, необходимость спецусловий).                                                                               |
|  4  | Клиент → Интернет-банк                   | Просмотр депозитов и персональных ставок   | Клиент авторизуется в интернет-банке. Интернет-банк получает список депозитов и базовые ставки из единого источника ставок, а также персональные параметры клиента, и отображает персонализированные условия. |
|  5  | Клиент → Интернет-банк → SMS-шлюз        | Подача заявки на депозит из интернет-банка | Клиент выбирает депозит, счёт списания и сумму. Интернет-банк формирует заявку и запрашивает подтверждение операции с помощью СМС-кода.                                                                       |
|  6  | Интернет-банк → Контур обработки заявок  | Регистрация подтверждённой заявки          | После успешного подтверждения СМС-кодом заявка фиксируется в системе обработки заявок банка и становится доступной бэк-офису.                                                                                 |
|  7  | Сотрудник бэк-офиса → АБС                | Ручная обработка заявки (MVP)              | Сотрудник бэк-офиса обрабатывает заявку по текущему процессу, рассчитывает и подтверждает условия депозита в АБС.                                                                                             |
|  8  | АБС → SMS-шлюз → Клиент                  | Уведомления клиенту                        | После подтверждения ставки и/или открытия депозита АБС инициирует отправку СМС-уведомлений клиенту.                                                                                                           |
|  9  | Сайт / Интернет-банк → Клиент            | Отображение статусов                       | Клиенту отображаются статусы заявки и понятные сообщения об ошибках или текущем состоянии обработки.                                                                                                          |

---

## **Нефункциональные требования**

|  №  | Требование                                                                                             |
| :-: | ------------------------------------------------------------------------------------------------------ |
|  1  | Доступность сервисов — не ниже 99,9%.                                                                  |
|  2  | Интернет-банк должен сохранять работоспособность при отказе одного ЦОД (наличие резервного ЦОД).       |
|  3  | Запрещены прямые API-вызовы интернет-банка к АБС в новом процессе.                                     |
|  4  | Минимизация нагрузки на БД АБС; АБС не должна быть точкой отказа.                                      |
|  5  | Быстрый отклик пользовательских операций (миллисекунды); загрузка справочных данных — менее 1 секунды. |
|  6  | Горизонтальное масштабирование интернет-банка и сервисов обработки заявок.                             |
|  7  | Гарантированная доставка заявок в бэк-офис; корректная обработка повторных запросов.                   |
|  8  | Шифрование трафика между клиентами и сервером, а также между интегрируемыми системами.                 |
|  9  | Подтверждение заявки в интернет-банке через СМС без доработок ядра интернет-банка подрядчиком.         |
| 10  | Использование корпоративной дизайн-системы и понятных сообщений об ошибках.                            |
| 11  | Использование существующих технологий банка (MS SQL, Oracle, .NET, Java).                              |
| 12  | Возможность дальнейшего расширения функционала и перехода к микросервисной архитектуре.                |
| 13  | Наличие технической документации по решению.                                                           |
| 14  | Интеграция с системой кол-центра и СМС-шлюзом телеком-оператора.                                       |
| 15  | Возможность использования очередей сообщений как целевого механизма масштабирования.                   |

---

## **Решение**

Для реализации MVP предлагается внедрить **промежуточный контур цифровой обработки депозитных заявок**, который отделяет онлайн-каналы (сайт и интернет-банк) от АБС и снижает нагрузку на неё.

### Ключевые архитектурные решения:

- Вводится **единый источник ставок**, заменяющий Excel-файлы как источник данных для сайта и интернет-банка.
- Появляется **сервис обработки заявок**, принимающий заявки от сайта и интернет-банка и обеспечивающий их гарантированную доставку бэк-офису.
- Интернет-банк и сайт **не обращаются напрямую к АБС**.
- Взаимодействие с АБС происходит асинхронно и только на этапе ручной обработки заявок бэк-офисом.
- Используется существующий механизм СМС в интернет-банке, без доработок ядра подрядчиком.
- Архитектура MVP проектируется с учётом дальнейшего перехода к микросервисной модели в домене «депозиты».

### Диаграммы C4:

- **C4 Context diagram** — показывает клиентов, онлайн-каналы, систему кол-центра, сервис заявок, АБС и SMS-шлюз.
- **C4 Container diagram** — детализирует интернет-банк (UI, backend, интеграции) и АБС, а также сервисы ставок и заявок.

Диаграммы покрывают все Use Cases, описанные выше, и отражают ключевые интеграции между системами.

---

## **Альтернативы**

1. **Прямая интеграция интернет-банка с АБС**

   - Проще в реализации.
   - Отклонено из-за перегрузки БД АБС и риска недоступности онлайн-каналов.

2. **Реализация ставок исключительно внутри АБС**

   - Централизация логики.
   - Отклонено из-за высокой нагрузки и ограниченной масштабируемости АБС.

3. **Полная автоматизация без участия бэк-офиса**
   - Целевое состояние.
   - Невозможно в рамках MVP из-за сложности бизнес-логики и регуляторных ограничений.

---

## **Недостатки, ограничения, риски**

- На этапе MVP сохраняется ручная обработка заявок бэк-офисом.
- Появляется дополнительный интеграционный слой, требующий сопровождения.
- Возможны ограничения по масштабированию из-за монолитной архитектуры интернет-банка.
- Требуется дисциплина в актуализации ставок в новом источнике данных.
- Переход к полностью автоматическому открытию депозитов потребует доработок АБС и процессов контроля рисков.
